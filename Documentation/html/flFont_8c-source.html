<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>funcLib: flFont.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>flFont.c</h1><a href="flFont_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include "<a class="code" href="flGlobal_8h.html">flGlobal.h</a>"</span>
<a name="l00002"></a>00002 <span class="preprocessor">#if FL_FONT != 0</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &lt;pspgu.h&gt;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &lt;pspkernel.h&gt;</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="preprocessor">#if FL_GRAPHICS == 0</span>
<a name="l00009"></a>00009 <span class="preprocessor"></span><span class="preprocessor">#include &lt;pspdebug.h&gt;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#endif</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span>
<a name="l00012"></a>00012 <span class="preprocessor">#if FL_INCLUDE_ALL_C == 0</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="flFont_8h.html">flFont.h</a>"</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include "<a class="code" href="flMemory_8h.html">flMemory.h</a>"</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 <span class="preprocessor">#if FL_DEBUG != 0</span>
<a name="l00017"></a>00017 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="flDebug_8h.html">flDebug.h</a>"</span>
<a name="l00018"></a>00018 <span class="preprocessor">#endif</span>
<a name="l00019"></a>00019 <span class="preprocessor"></span>
<a name="l00020"></a>00020 <span class="preprocessor">#if FL_GRAPHICS != 0</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="flGraphics_8h.html">flGraphics.h</a>"</span>
<a name="l00022"></a>00022 <span class="preprocessor">#if FL_GRAPHICS_2D != 0</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="flGraphics2d_8h.html">flGraphics2d.h</a>"</span>
<a name="l00024"></a>00024 <span class="preprocessor">#endif</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span>
<a name="l00028"></a>00028 <span class="preprocessor">#if FL_GRAPHICS != 0</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span><span class="keyword">extern</span> u8 <a class="code" href="flFont_8c.html#fd6d8db70c0aefa39fc4dea1108e309b">msx</a>[];
<a name="l00030"></a><a class="code" href="flFont_8c.html#15856dc4b3f06ce8ab011570ab980871">00030</a> u8* <a class="code" href="flFont_8c.html#15856dc4b3f06ce8ab011570ab980871">fontDebugTex</a> = <a class="code" href="flTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00031"></a><a class="code" href="flFont_8c.html#c052cbaf897ef9ff80c958ca1099f64a">00031</a> u8* <a class="code" href="flFont_8c.html#c052cbaf897ef9ff80c958ca1099f64a">fontMonoPal</a> = <a class="code" href="flTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00032"></a>00032 <span class="comment">//u32 fontDebugColorCur     = 0xFFFFFFFF;</span>
<a name="l00033"></a>00033 <span class="comment">//u32 fontDebugBackColorCur = 0x00FFFFFF;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#endif</span>
<a name="l00035"></a>00035 <span class="preprocessor"></span>
<a name="l00036"></a><a class="code" href="flFont_8h.html#b1e771ff1965e62f65eab80b2ca4475f">00036</a> <a class="code" href="structFont.html">Font</a>* <a class="code" href="flFont_8c.html#b1e771ff1965e62f65eab80b2ca4475f">fontDefault</a> = <a class="code" href="flTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00037"></a>00037 
<a name="l00038"></a><a class="code" href="flFont_8h.html#0416d15ad6ddec5fe49d09760dceee01">00038</a> <span class="keywordtype">void</span> <a class="code" href="flFont_8c.html#0416d15ad6ddec5fe49d09760dceee01">fontInit</a>() {
<a name="l00039"></a>00039      <a class="code" href="flFont_8c.html#b1e771ff1965e62f65eab80b2ca4475f">fontDefault</a> = <a class="code" href="flFont_8c.html#e88ed5efe4bc9f93200dd3645a740a89">fontCreateDebug</a>(0, 0, <a class="code" href="flConfig_8h.html#87772d78c998f3945ccb0fb7f0ccebba">FL_FONT_COLOR_DEFAULT</a>);
<a name="l00040"></a>00040 }
<a name="l00041"></a>00041 
<a name="l00042"></a><a class="code" href="flFont_8h.html#21e0e8e442c8946619ed709ab8758dd5">00042</a> <a class="code" href="structFont.html">Font</a>* <a class="code" href="flFont_8c.html#21e0e8e442c8946619ed709ab8758dd5">fontLoad</a>(<span class="keywordtype">char</span>* inPath) {
<a name="l00043"></a>00043      <a class="code" href="structFont.html">Font</a>* tempOut = <a class="code" href="flTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00044"></a>00044 <span class="preprocessor">     #if FL_TEXTURE != 0</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span>     <a class="code" href="structTexture.html">Texture</a>* tempTex = <a class="code" href="flTexture_8c.html#723acca77c2b47c9f8f9d1064ee509ee">texLoad</a>(inPath);
<a name="l00046"></a>00046      <span class="keywordflow">if</span>(tempTex) {
<a name="l00047"></a>00047           tempOut = <a class="code" href="flFont_8c.html#3974ca441bf8e3f8af7cd80f8e4e247d">fontCreateTexture</a>(tempTex, <a class="code" href="flConfig_8h.html#91a88599d6e9d386bea131e302210ed5">FL_FONT_HSPACE_DEFAULT</a>, <a class="code" href="flConfig_8h.html#c498af28962c13bb49b999fb2ad3ff00">FL_FONT_VSPACE_DEFAULT</a>, <a class="code" href="flConfig_8h.html#87772d78c998f3945ccb0fb7f0ccebba">FL_FONT_COLOR_DEFAULT</a>);
<a name="l00048"></a>00048           tempOut-&gt;<a class="code" href="structFont.html#eec1a767d8a36bb0359206993792f83d">fontDataGlobal</a> = <span class="keyword">false</span>;
<a name="l00049"></a>00049           <span class="keywordflow">return</span> tempOut;
<a name="l00050"></a>00050      }
<a name="l00051"></a>00051 <span class="preprocessor">     #endif</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span>
<a name="l00053"></a>00053      <span class="keywordtype">char</span> tempExt[5];
<a name="l00054"></a>00054      strcpy(tempExt, &amp;inPath[strlen(inPath) - 4]);
<a name="l00055"></a>00055      <span class="keywordtype">int</span> i;
<a name="l00056"></a>00056      <span class="keywordflow">for</span>(i = 0; i &lt; 4; i++) {
<a name="l00057"></a>00057           <span class="keywordflow">if</span>((tempExt[i] &gt;= <a class="code" href="flDefines_8h.html#6ccdee41712ed103021e82cb944f47e6">ASCII_A</a>) &amp;&amp; (tempExt[i] &lt;= <a class="code" href="flDefines_8h.html#282e9a9765b0ae5f0a4aa813c3a4932c">ASCII_Z</a>))
<a name="l00058"></a>00058                tempExt[i] = (tempExt[i] - 32);
<a name="l00059"></a>00059      }
<a name="l00060"></a>00060      <span class="keywordflow">if</span>(strcmp(tempExt, <span class="stringliteral">".pgf"</span>) == 0) {
<a name="l00061"></a>00061           #<span class="keywordflow">if</span> FL_FONT_PGF != 0
<a name="l00062"></a>00062           <span class="keywordflow">return</span> fontLoadPGF(inPath);
<a name="l00063"></a>00063 <span class="preprocessor">          #else</span>
<a name="l00064"></a>00064 <span class="preprocessor"></span><span class="preprocessor">          #if FL_DEBUG_DEVWARNING != 0</span>
<a name="l00065"></a>00065 <span class="preprocessor"></span>          <a class="code" href="flDebug_8h.html#d5943cf26301611cf94445fab201d878">debugDevWarning</a>(<span class="stringliteral">"PGF textures not supported in this build."</span>);
<a name="l00066"></a>00066 <span class="preprocessor">          #endif</span>
<a name="l00067"></a>00067 <span class="preprocessor"></span><span class="preprocessor">          #endif</span>
<a name="l00068"></a>00068 <span class="preprocessor"></span>     }
<a name="l00069"></a>00069      
<a name="l00070"></a>00070 <span class="preprocessor">     #if FL_DEBUG_WARNING != 0</span>
<a name="l00071"></a>00071 <span class="preprocessor"></span>     <span class="keywordtype">char</span> tempString[256];
<a name="l00072"></a>00072      sprintf(tempString, <span class="stringliteral">"Error loading font(%s)."</span>, inPath);
<a name="l00073"></a>00073 <span class="preprocessor">     #if FL_TEXTURE != 0</span>
<a name="l00074"></a>00074 <span class="preprocessor"></span>     sprintf(tempString, <span class="stringliteral">"%s\nTry including TEXTURE for more success."</span>, tempString);
<a name="l00075"></a>00075 <span class="preprocessor">     #endif</span>
<a name="l00076"></a>00076 <span class="preprocessor"></span>     <a class="code" href="flDebug_8h.html#a122223db39f9f6ab0773adbf5de1a97">debugWarning</a>(tempString);
<a name="l00077"></a>00077 <span class="preprocessor">     #endif</span>
<a name="l00078"></a>00078 <span class="preprocessor"></span>     
<a name="l00079"></a>00079      <span class="keywordflow">return</span> <a class="code" href="flTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00080"></a>00080 }
<a name="l00081"></a>00081 
<a name="l00082"></a><a class="code" href="flFont_8h.html#9ff5be1b2dc43f06e50f98f7215de099">00082</a> <span class="keywordtype">bool</span> <a class="code" href="flFont_8c.html#9ff5be1b2dc43f06e50f98f7215de099">fontSave</a>(<span class="keywordtype">char</span>* inPath, <a class="code" href="structFont.html">Font</a>* inFont) {
<a name="l00083"></a>00083 <span class="preprocessor">     #if FL_DEBUG_DEVWARNING != 0</span>
<a name="l00084"></a>00084 <span class="preprocessor"></span>     <a class="code" href="flDebug_8h.html#d5943cf26301611cf94445fab201d878">debugDevWarning</a>(<span class="stringliteral">"fontSave not yet implemented."</span>);
<a name="l00085"></a>00085 <span class="preprocessor">     #endif</span>
<a name="l00086"></a>00086 <span class="preprocessor"></span>     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00087"></a>00087 }
<a name="l00088"></a>00088 
<a name="l00089"></a>00089 <span class="preprocessor">#if FL_TEXTURE != 0</span>
<a name="l00090"></a><a class="code" href="flFont_8h.html#3974ca441bf8e3f8af7cd80f8e4e247d">00090</a> <span class="preprocessor"></span><a class="code" href="structFont.html">Font</a>* <a class="code" href="flFont_8c.html#3974ca441bf8e3f8af7cd80f8e4e247d">fontCreateTexture</a>(<a class="code" href="structTexture.html">Texture</a>* inTex, <span class="keywordtype">int</span> inHSpace, <span class="keywordtype">int</span> inVSpace, u32 inColor) {
<a name="l00091"></a>00091      <span class="keywordflow">if</span>(!inTex) {
<a name="l00092"></a>00092 <span class="preprocessor">          #if FL_DEBUG_WARNING != 0</span>
<a name="l00093"></a>00093 <span class="preprocessor"></span>          <a class="code" href="flDebug_8h.html#a122223db39f9f6ab0773adbf5de1a97">debugWarning</a>(<span class="stringliteral">"Trying to create font from NULL texture."</span>);
<a name="l00094"></a>00094 <span class="preprocessor">          #endif</span>
<a name="l00095"></a>00095 <span class="preprocessor"></span>          <span class="keywordflow">return</span> <a class="code" href="flTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00096"></a>00096      }
<a name="l00097"></a>00097      <a class="code" href="structFont.html">Font</a>* tempOut = <a class="code" href="flMemory_8h.html#61b12aace9141e9aa9a733ab7e7d8f1c">memAlloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="structFont.html">Font</a>));
<a name="l00098"></a>00098      <span class="keywordflow">if</span>(!tempOut) {
<a name="l00099"></a>00099 <span class="preprocessor">          #if FL_DEBUG_WARNING != 0</span>
<a name="l00100"></a>00100 <span class="preprocessor"></span>          <a class="code" href="flDebug_8h.html#a122223db39f9f6ab0773adbf5de1a97">debugWarning</a>(<span class="stringliteral">"Error couldn't create font structure.\nProbably out of memory."</span>);
<a name="l00101"></a>00101 <span class="preprocessor">          #endif</span>
<a name="l00102"></a>00102 <span class="preprocessor"></span>          <span class="keywordflow">return</span> <a class="code" href="flTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00103"></a>00103      }
<a name="l00104"></a>00104      tempOut-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> = <a class="code" href="flFont_8h.html#fad664fdb870e740aa0d9bc182298ea0">FONT_TYPE_TEXTURE</a>;
<a name="l00105"></a>00105      tempOut-&gt;<a class="code" href="structFont.html#d02307751251813ef2bf1079d26c9bbf">fontData</a> = inTex;
<a name="l00106"></a>00106      tempOut-&gt;<a class="code" href="structFont.html#2b8046eb558457735d03eecffff2892c">fontHSpace</a> = inHSpace;
<a name="l00107"></a>00107      tempOut-&gt;<a class="code" href="structFont.html#1fc2cd173a375811b58a0e783527be0a">fontVSpace</a> = inVSpace;
<a name="l00108"></a>00108      tempOut-&gt;<a class="code" href="structFont.html#749f6803de52746718fc657a0fc1706b">fontColor</a> = inColor;
<a name="l00109"></a>00109      tempOut-&gt;<a class="code" href="structFont.html#c822d07878de3cc0b94cedd2ce614025">fontBackColor</a> = (inColor &amp; 0x00FFFFFF);
<a name="l00110"></a>00110      tempOut-&gt;<a class="code" href="structFont.html#dffcc5b90b02a0f906e2a113eee9379c">fontFixedWidth</a> = <span class="keyword">true</span>;
<a name="l00111"></a>00111      tempOut-&gt;<a class="code" href="structFont.html#eec1a767d8a36bb0359206993792f83d">fontDataGlobal</a> = <span class="keyword">true</span>;
<a name="l00112"></a>00112      
<a name="l00113"></a>00113      <span class="keywordflow">return</span> tempOut;
<a name="l00114"></a>00114 }
<a name="l00115"></a>00115 <span class="preprocessor">#endif</span>
<a name="l00116"></a>00116 <span class="preprocessor"></span>
<a name="l00117"></a><a class="code" href="flFont_8h.html#e88ed5efe4bc9f93200dd3645a740a89">00117</a> <a class="code" href="structFont.html">Font</a>* <a class="code" href="flFont_8c.html#e88ed5efe4bc9f93200dd3645a740a89">fontCreateDebug</a>(<span class="keywordtype">int</span> inHSpace, <span class="keywordtype">int</span> inVSpace, u32 inColor) {
<a name="l00118"></a>00118      <a class="code" href="structFont.html">Font</a>* tempOut = <a class="code" href="flMemory_8h.html#61b12aace9141e9aa9a733ab7e7d8f1c">memAlloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="structFont.html">Font</a>));
<a name="l00119"></a>00119      <span class="keywordflow">if</span>(!tempOut) {
<a name="l00120"></a>00120 <span class="preprocessor">          #if FL_DEBUG_WARNING != 0</span>
<a name="l00121"></a>00121 <span class="preprocessor"></span>          <a class="code" href="flDebug_8h.html#a122223db39f9f6ab0773adbf5de1a97">debugWarning</a>(<span class="stringliteral">"Error couldn't create font structure.\nProbably out of memory."</span>);
<a name="l00122"></a>00122 <span class="preprocessor">          #endif</span>
<a name="l00123"></a>00123 <span class="preprocessor"></span>          <span class="keywordflow">return</span> <a class="code" href="flTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00124"></a>00124      }
<a name="l00125"></a>00125      tempOut-&gt;<a class="code" href="structFont.html#2b8046eb558457735d03eecffff2892c">fontHSpace</a> = inHSpace;
<a name="l00126"></a>00126      tempOut-&gt;<a class="code" href="structFont.html#1fc2cd173a375811b58a0e783527be0a">fontVSpace</a> = inVSpace;
<a name="l00127"></a>00127      tempOut-&gt;<a class="code" href="structFont.html#749f6803de52746718fc657a0fc1706b">fontColor</a> = inColor;
<a name="l00128"></a>00128      tempOut-&gt;<a class="code" href="structFont.html#c822d07878de3cc0b94cedd2ce614025">fontBackColor</a> = (inColor &amp; 0x00FFFFFF);
<a name="l00129"></a>00129      tempOut-&gt;<a class="code" href="structFont.html#dffcc5b90b02a0f906e2a113eee9379c">fontFixedWidth</a> = <span class="keyword">true</span>;
<a name="l00130"></a>00130      tempOut-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> = <a class="code" href="flFont_8h.html#2bdce43e1cf054fb65e1cbab7be49064">FONT_TYPE_DEBUG</a>;
<a name="l00131"></a>00131      tempOut-&gt;<a class="code" href="structFont.html#d02307751251813ef2bf1079d26c9bbf">fontData</a> = <a class="code" href="flTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00132"></a>00132      tempOut-&gt;<a class="code" href="structFont.html#eec1a767d8a36bb0359206993792f83d">fontDataGlobal</a> = <span class="keyword">true</span>;
<a name="l00133"></a>00133      
<a name="l00134"></a>00134 <span class="preprocessor">     #if FL_GRAPHICS != 0</span>
<a name="l00135"></a>00135 <span class="preprocessor"></span>     <span class="keywordflow">if</span>(!<a class="code" href="flFont_8c.html#15856dc4b3f06ce8ab011570ab980871">fontDebugTex</a>)
<a name="l00136"></a>00136           <a class="code" href="flFont_8c.html#86a3890982bcea3c59bdc0a52d465f98">fontCreateDebugTex</a>();
<a name="l00137"></a>00137 <span class="preprocessor">     #endif</span>
<a name="l00138"></a>00138 <span class="preprocessor"></span>     
<a name="l00139"></a>00139      <span class="keywordflow">return</span> tempOut;
<a name="l00140"></a>00140 }
<a name="l00141"></a>00141 
<a name="l00142"></a>00142 <span class="preprocessor">#if FL_GRAPHICS != 0</span>
<a name="l00143"></a><a class="code" href="flFont_8h.html#86a3890982bcea3c59bdc0a52d465f98">00143</a> <span class="preprocessor"></span><span class="keywordtype">bool</span> <a class="code" href="flFont_8c.html#86a3890982bcea3c59bdc0a52d465f98">fontCreateDebugTex</a>() {
<a name="l00144"></a>00144      u8* tempFont = <a class="code" href="flFont_8c.html#fd6d8db70c0aefa39fc4dea1108e309b">msx</a>;
<a name="l00145"></a>00145      
<a name="l00146"></a>00146 <span class="preprocessor">     #if FL_MEMORY_VMEM != 0</span>
<a name="l00147"></a>00147 <span class="preprocessor"></span>     u8* tempBuffer = <a class="code" href="flMemoryVMem_8h.html#fe528defdc4064c33e97273936dc149d">vmemAlloc</a>(8192);
<a name="l00148"></a>00148      <span class="keywordflow">if</span>(!tempBuffer)
<a name="l00149"></a>00149           tempBuffer = <a class="code" href="flMemory_8h.html#6a5fc18df2332bcb43ce16a7e266870a">memAlign</a>(16, 8192);
<a name="l00150"></a>00150 <span class="preprocessor">     #else</span>
<a name="l00151"></a>00151 <span class="preprocessor"></span>     u8* tempBuffer = <a class="code" href="flMemory_8h.html#6a5fc18df2332bcb43ce16a7e266870a">memAlign</a>(16, 8192);
<a name="l00152"></a>00152 <span class="preprocessor">     #endif</span>
<a name="l00153"></a>00153 <span class="preprocessor"></span>     
<a name="l00154"></a>00154      <span class="keywordflow">if</span>(!tempBuffer) {
<a name="l00155"></a>00155 <span class="preprocessor">          #if FL_DEBUG_ERROR != 0</span>
<a name="l00156"></a>00156 <span class="preprocessor"></span>          <a class="code" href="flDebug_8h.html#2cd68b8e989a5902ba62dabe20596f07">debugError</a>(<span class="stringliteral">"Not enough memory to create CLUT4 debug font."</span>);
<a name="l00157"></a>00157 <span class="preprocessor">          #endif</span>
<a name="l00158"></a>00158 <span class="preprocessor"></span>          <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00159"></a>00159      }
<a name="l00160"></a>00160      u8* tempBufferPtr = tempBuffer;
<a name="l00161"></a>00161      u8  tempPixel = 0;
<a name="l00162"></a>00162      <span class="keywordtype">int</span> i;
<a name="l00163"></a>00163      <span class="keywordflow">for</span>(i = 0; i &lt; 16384; i++) {
<a name="l00164"></a>00164           tempPixel &gt;&gt;= 4;
<a name="l00165"></a>00165           <span class="keywordflow">if</span>(*tempFont &amp; (128 &gt;&gt; (i &amp; 7)))
<a name="l00166"></a>00166                tempPixel += 0xF0;
<a name="l00167"></a>00167           <span class="keywordflow">if</span>(i &amp; 1) {
<a name="l00168"></a>00168                *tempBufferPtr = tempPixel;
<a name="l00169"></a>00169                tempPixel = 0;
<a name="l00170"></a>00170                tempBufferPtr++;
<a name="l00171"></a>00171           }
<a name="l00172"></a>00172           <span class="keywordflow">if</span>((i &amp; 1023) == 1023) {
<a name="l00173"></a>00173                tempFont++;
<a name="l00174"></a>00174           } <span class="keywordflow">else</span> <span class="keywordflow">if</span>((i &amp; 127) == 127) {
<a name="l00175"></a>00175                tempFont -= 119;
<a name="l00176"></a>00176           } <span class="keywordflow">else</span> <span class="keywordflow">if</span>((i &amp; 7) == 7) {
<a name="l00177"></a>00177                tempFont += 8;
<a name="l00178"></a>00178           }
<a name="l00179"></a>00179      }
<a name="l00180"></a>00180 
<a name="l00181"></a>00181      <a class="code" href="flGraphics_8c.html#d7f9558dce0ff8ff296f9fe4add9f95e">graphicsSwizzleData</a>(tempBuffer, 128, 128, GU_PSM_T4);
<a name="l00182"></a>00182      <a class="code" href="flFont_8c.html#15856dc4b3f06ce8ab011570ab980871">fontDebugTex</a> = tempBuffer;
<a name="l00183"></a>00183 
<a name="l00184"></a>00184      <span class="comment">/*#if FL_MEMORY_VMEM != 0</span>
<a name="l00185"></a>00185 <span class="comment">     fontMonoPal = vmemAlloc(64);</span>
<a name="l00186"></a>00186 <span class="comment">     if(!fontMonoPal)</span>
<a name="l00187"></a>00187 <span class="comment">          fontMonoPal = memAlign(16, 64);</span>
<a name="l00188"></a>00188 <span class="comment">     #else*/</span>
<a name="l00189"></a>00189      <a class="code" href="flFont_8c.html#c052cbaf897ef9ff80c958ca1099f64a">fontMonoPal</a> = <a class="code" href="flMemory_8h.html#6a5fc18df2332bcb43ce16a7e266870a">memAlign</a>(16, 64);
<a name="l00190"></a>00190      <span class="comment">//#endif</span>
<a name="l00191"></a>00191      
<a name="l00192"></a>00192      tempBuffer = <a class="code" href="flFont_8c.html#c052cbaf897ef9ff80c958ca1099f64a">fontMonoPal</a>;
<a name="l00193"></a>00193      <span class="keywordflow">for</span>(i = 0; i &lt; 16; i++) {
<a name="l00194"></a>00194           *(tempBuffer++) = 0xFF;
<a name="l00195"></a>00195           *(tempBuffer++) = 0xFF;
<a name="l00196"></a>00196           *(tempBuffer++) = 0xFF;
<a name="l00197"></a>00197           *(tempBuffer++) = (i * 17);
<a name="l00198"></a>00198      }
<a name="l00199"></a>00199      
<a name="l00200"></a>00200      sceKernelDcacheWritebackRange((<span class="keywordtype">void</span>*)<a class="code" href="flFont_8c.html#c052cbaf897ef9ff80c958ca1099f64a">fontMonoPal</a>, 64);
<a name="l00201"></a>00201      
<a name="l00202"></a>00202      <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00203"></a>00203 }
<a name="l00204"></a>00204 <span class="preprocessor">#endif</span>
<a name="l00205"></a>00205 <span class="preprocessor"></span>
<a name="l00206"></a><a class="code" href="flFont_8h.html#9ba3d4e083b5da133a02be810608c100">00206</a> <span class="keywordtype">void</span> <a class="code" href="flFont_8c.html#9ba3d4e083b5da133a02be810608c100">fontFree</a>(<a class="code" href="structFont.html">Font</a>* inFont) {
<a name="l00207"></a>00207      <span class="keywordflow">if</span>(!inFont) {
<a name="l00208"></a>00208 <span class="preprocessor">          #if FL_DEBUG_WARNING != 0</span>
<a name="l00209"></a>00209 <span class="preprocessor"></span>          <a class="code" href="flDebug_8h.html#a122223db39f9f6ab0773adbf5de1a97">debugWarning</a>(<span class="stringliteral">"Trying to free a NULL font."</span>);
<a name="l00210"></a>00210 <span class="preprocessor">          #endif</span>
<a name="l00211"></a>00211 <span class="preprocessor"></span>          <span class="keywordflow">return</span>;
<a name="l00212"></a>00212      }
<a name="l00213"></a>00213      <span class="keywordflow">if</span>(!inFont-&gt;<a class="code" href="structFont.html#eec1a767d8a36bb0359206993792f83d">fontDataGlobal</a>) {
<a name="l00214"></a>00214 <span class="preprocessor">          #if FL_TEXTURE != 0</span>
<a name="l00215"></a>00215 <span class="preprocessor"></span>          <span class="keywordflow">if</span>((inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#fad664fdb870e740aa0d9bc182298ea0">FONT_TYPE_TEXTURE</a>) || (inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#7dc8628be275d5fe722b01221ff470f9">FONT_TYPE_TEXTURE_MONO</a>)) {
<a name="l00216"></a>00216                <a class="code" href="flTexture_8c.html#8fb8e4b38a9296ed9af008419170efee">texFree</a>(inFont-&gt;<a class="code" href="structFont.html#d02307751251813ef2bf1079d26c9bbf">fontData</a>);
<a name="l00217"></a>00217           }
<a name="l00218"></a>00218 <span class="preprocessor">          #endif</span>
<a name="l00219"></a>00219 <span class="preprocessor"></span>     }
<a name="l00220"></a>00220      <a class="code" href="flMemory_8h.html#b5a200b09037e42c940e59383787470c">memFree</a>(inFont);
<a name="l00221"></a>00221 }
<a name="l00222"></a>00222 
<a name="l00223"></a>00223 
<a name="l00224"></a>00224 
<a name="l00225"></a>00225 
<a name="l00226"></a>00226 
<a name="l00227"></a><a class="code" href="flFont_8h.html#52a6b73a87f357f4063ff8ebc8e5f974">00227</a> <span class="keywordtype">int</span> <a class="code" href="flFont_8c.html#52a6b73a87f357f4063ff8ebc8e5f974">fontHeight</a>(<a class="code" href="structFont.html">Font</a>* inFont) {
<a name="l00228"></a>00228 <span class="preprocessor">     #if FL_TEXTURE != 0</span>
<a name="l00229"></a>00229 <span class="preprocessor"></span>     <span class="keywordflow">if</span>((inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#fad664fdb870e740aa0d9bc182298ea0">FONT_TYPE_TEXTURE</a>) || (inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#7dc8628be275d5fe722b01221ff470f9">FONT_TYPE_TEXTURE_MONO</a>)) {
<a name="l00230"></a>00230           <span class="keywordflow">if</span>(!inFont-&gt;<a class="code" href="structFont.html#d02307751251813ef2bf1079d26c9bbf">fontData</a>) {
<a name="l00231"></a>00231 <span class="preprocessor">               #if FL_DEBUG_WARNING != 0</span>
<a name="l00232"></a>00232 <span class="preprocessor"></span>               <a class="code" href="flDebug_8h.html#a122223db39f9f6ab0773adbf5de1a97">debugWarning</a>(<span class="stringliteral">"Texture font has no data."</span>);
<a name="l00233"></a>00233 <span class="preprocessor">               #endif</span>
<a name="l00234"></a>00234 <span class="preprocessor"></span>               <span class="keywordflow">return</span> 0;
<a name="l00235"></a>00235           }
<a name="l00236"></a>00236           <a class="code" href="structTexture.html">Texture</a>* tempTex = (<a class="code" href="structTexture.html">Texture</a>*)inFont-&gt;<a class="code" href="structFont.html#d02307751251813ef2bf1079d26c9bbf">fontData</a>;
<a name="l00237"></a>00237           return (tempTex-&gt;<a class="code" href="structTexture.html#e1c0cacd0be001d79c758796ba0b4f8f">texHeight</a> &gt;&gt; 4);
<a name="l00238"></a>00238      }
<a name="l00239"></a>00239 <span class="preprocessor">     #endif</span>
<a name="l00240"></a>00240 <span class="preprocessor"></span>     <span class="keywordflow">if</span>(inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#2bdce43e1cf054fb65e1cbab7be49064">FONT_TYPE_DEBUG</a>)
<a name="l00241"></a>00241           <span class="keywordflow">return</span> 8;
<a name="l00242"></a>00242      <span class="keywordflow">return</span> 0;
<a name="l00243"></a>00243 }
<a name="l00244"></a>00244 
<a name="l00245"></a><a class="code" href="flFont_8h.html#885fc7115e929b241e957568f1e15be5">00245</a> <span class="keywordtype">int</span> <a class="code" href="flFont_8c.html#885fc7115e929b241e957568f1e15be5">fontCharWidth</a>(<a class="code" href="structFont.html">Font</a>* inFont, <span class="keywordtype">char</span> inChar) {
<a name="l00246"></a>00246      <span class="keywordflow">if</span>(inFont-&gt;<a class="code" href="structFont.html#dffcc5b90b02a0f906e2a113eee9379c">fontFixedWidth</a>) {
<a name="l00247"></a>00247 <span class="preprocessor">          #if FL_TEXTURE != 0</span>
<a name="l00248"></a>00248 <span class="preprocessor"></span>          <span class="keywordflow">if</span>((inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#fad664fdb870e740aa0d9bc182298ea0">FONT_TYPE_TEXTURE</a>) || (inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#7dc8628be275d5fe722b01221ff470f9">FONT_TYPE_TEXTURE_MONO</a>)) {
<a name="l00249"></a>00249                <span class="keywordflow">if</span>(!inFont-&gt;<a class="code" href="structFont.html#d02307751251813ef2bf1079d26c9bbf">fontData</a>) {
<a name="l00250"></a>00250 <span class="preprocessor">                    #if FL_DEBUG_WARNING != 0</span>
<a name="l00251"></a>00251 <span class="preprocessor"></span>                    <a class="code" href="flDebug_8h.html#a122223db39f9f6ab0773adbf5de1a97">debugWarning</a>(<span class="stringliteral">"Texture font has no data."</span>);
<a name="l00252"></a>00252 <span class="preprocessor">                    #endif</span>
<a name="l00253"></a>00253 <span class="preprocessor"></span>                    <span class="keywordflow">return</span> 0;
<a name="l00254"></a>00254                }
<a name="l00255"></a>00255                <a class="code" href="structTexture.html">Texture</a>* tempTex = (<a class="code" href="structTexture.html">Texture</a>*)inFont-&gt;<a class="code" href="structFont.html#d02307751251813ef2bf1079d26c9bbf">fontData</a>;
<a name="l00256"></a>00256                <span class="keywordflow">if</span>(inChar == <a class="code" href="flDefines_8h.html#bcd3d8c3082acbb105816e2274d1fb2f">ASCII_TAB</a>)
<a name="l00257"></a>00257                     <span class="keywordflow">return</span> ((tempTex-&gt;<a class="code" href="structTexture.html#7197574d38aa038db43cf47554b6fe17">texWidth</a> &gt;&gt; 4) * <a class="code" href="flConfig_8h.html#207a2f5c99d8707a4bda13fbb34af7a6">FL_FONT_TABWIDTH_DEFAULT</a>);
<a name="l00258"></a>00258                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(inChar == <a class="code" href="flDefines_8h.html#74cfd0b97396b41e6cbb25de858ece5b">ASCII_BS</a>)
<a name="l00259"></a>00259                     <span class="keywordflow">return</span> (0 - (tempTex-&gt;<a class="code" href="structTexture.html#7197574d38aa038db43cf47554b6fe17">texWidth</a> &gt;&gt; 4));
<a name="l00260"></a>00260                <span class="keywordflow">return</span> (tempTex-&gt;<a class="code" href="structTexture.html#7197574d38aa038db43cf47554b6fe17">texWidth</a> &gt;&gt; 4);
<a name="l00261"></a>00261           }
<a name="l00262"></a>00262 <span class="preprocessor">          #endif</span>
<a name="l00263"></a>00263 <span class="preprocessor"></span>          <span class="keywordflow">if</span>(inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#2bdce43e1cf054fb65e1cbab7be49064">FONT_TYPE_DEBUG</a>) {
<a name="l00264"></a>00264                <span class="keywordflow">if</span>(inChar == <a class="code" href="flDefines_8h.html#bcd3d8c3082acbb105816e2274d1fb2f">ASCII_TAB</a>)
<a name="l00265"></a>00265                     <span class="keywordflow">return</span> (8 * <a class="code" href="flConfig_8h.html#207a2f5c99d8707a4bda13fbb34af7a6">FL_FONT_TABWIDTH_DEFAULT</a>);
<a name="l00266"></a>00266                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(inChar == <a class="code" href="flDefines_8h.html#74cfd0b97396b41e6cbb25de858ece5b">ASCII_BS</a>)
<a name="l00267"></a>00267                     <span class="keywordflow">return</span> -8;
<a name="l00268"></a>00268                <span class="keywordflow">return</span> 8;
<a name="l00269"></a>00269           }
<a name="l00270"></a>00270      }
<a name="l00271"></a>00271 
<a name="l00272"></a>00272      <span class="comment">// TODO - Variable width fonts.</span>
<a name="l00273"></a>00273 
<a name="l00274"></a>00274      <span class="keywordflow">return</span> 0;
<a name="l00275"></a>00275 }
<a name="l00276"></a>00276 
<a name="l00277"></a><a class="code" href="flFont_8h.html#d75ea5a21fc0145cf0509698bbd57ed4">00277</a> <span class="keywordtype">int</span> <a class="code" href="flFont_8c.html#d75ea5a21fc0145cf0509698bbd57ed4">fontStringWidth</a>(<a class="code" href="structFont.html">Font</a>* inFont, <span class="keywordtype">char</span>* inString) {
<a name="l00278"></a>00278      <span class="keywordtype">int</span> tempMax = 0;
<a name="l00279"></a>00279      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
<a name="l00280"></a>00280      <span class="keywordtype">int</span> tempCur = 0;
<a name="l00281"></a>00281      <span class="keywordflow">for</span>(i = 0; i &lt; strlen(inString); i++) {
<a name="l00282"></a>00282           <span class="keywordflow">if</span>(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)inString[i] &lt; <a class="code" href="flDefines_8h.html#7b42baa421e0d53aa73e093326d3d033">ASCII_SPACE</a>) || ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)inString[i] == 0x7F) || ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)inString[i] == 0xFF))
<a name="l00283"></a>00283                <span class="keywordflow">continue</span>;
<a name="l00284"></a>00284           <span class="keywordflow">if</span>(inString[i] == <a class="code" href="flDefines_8h.html#ca3b498f5936dbe4f3076a47c3e1810d">ASCII_LF</a>) {
<a name="l00285"></a>00285                <span class="keywordflow">if</span>(tempCur &gt; tempMax)
<a name="l00286"></a>00286                     tempMax = tempCur;
<a name="l00287"></a>00287                tempCur = 0;
<a name="l00288"></a>00288           } <span class="keywordflow">else</span> {
<a name="l00289"></a>00289                tempCur += <a class="code" href="flFont_8c.html#885fc7115e929b241e957568f1e15be5">fontCharWidth</a>(inFont, inString[i]) + inFont-&gt;<a class="code" href="structFont.html#2b8046eb558457735d03eecffff2892c">fontHSpace</a>;
<a name="l00290"></a>00290           }
<a name="l00291"></a>00291      }
<a name="l00292"></a>00292      <span class="keywordflow">if</span>(tempMax &gt; tempCur)
<a name="l00293"></a>00293           <span class="keywordflow">return</span> tempMax;
<a name="l00294"></a>00294      <span class="keywordflow">return</span> tempCur;
<a name="l00295"></a>00295 }
<a name="l00296"></a>00296 
<a name="l00297"></a><a class="code" href="flFont_8h.html#9b818f638545e3ddd7720598f9633d13">00297</a> <span class="keywordtype">int</span> <a class="code" href="flFont_8c.html#9b818f638545e3ddd7720598f9633d13">fontStringHeight</a>(<a class="code" href="structFont.html">Font</a>* inFont, <span class="keywordtype">char</span>* inString) {
<a name="l00298"></a>00298      <span class="keywordtype">int</span> tempOut = <a class="code" href="flFont_8c.html#52a6b73a87f357f4063ff8ebc8e5f974">fontHeight</a>(inFont);
<a name="l00299"></a>00299      <span class="keywordtype">char</span>* tempPtr;
<a name="l00300"></a>00300      <span class="keywordflow">for</span>(tempPtr = inString; tempPtr[0] != 0; tempPtr++) {
<a name="l00301"></a>00301           <span class="keywordflow">if</span>(tempPtr[0] == <span class="charliteral">'\n'</span>)
<a name="l00302"></a>00302                tempOut += <a class="code" href="flFont_8c.html#52a6b73a87f357f4063ff8ebc8e5f974">fontHeight</a>(inFont);
<a name="l00303"></a>00303      }
<a name="l00304"></a>00304      <span class="keywordflow">return</span> tempOut;
<a name="l00305"></a>00305 }
<a name="l00306"></a>00306 
<a name="l00307"></a>00307 
<a name="l00308"></a>00308 
<a name="l00309"></a>00309 
<a name="l00310"></a><a class="code" href="flFont_8h.html#bd6cbddc091774731d817cd169b35bfe">00310</a> <span class="keywordtype">bool</span> <a class="code" href="flFont_8c.html#bd6cbddc091774731d817cd169b35bfe">fontDraw2dChar</a>(<span class="keywordtype">int</span> inX, <span class="keywordtype">int</span> inY, <a class="code" href="structFont.html">Font</a>* inFont, <span class="keywordtype">char</span> inChar) {
<a name="l00311"></a>00311 <span class="preprocessor">     #if FL_GRAPHICS != 0</span>
<a name="l00312"></a>00312 <span class="preprocessor"></span><span class="preprocessor">     #if FL_TEXTURE != 0</span>
<a name="l00313"></a>00313 <span class="preprocessor"></span>     <span class="keywordflow">if</span>((inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#fad664fdb870e740aa0d9bc182298ea0">FONT_TYPE_TEXTURE</a>) || (inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#7dc8628be275d5fe722b01221ff470f9">FONT_TYPE_TEXTURE_MONO</a>)) {
<a name="l00314"></a>00314           <span class="keywordflow">if</span>(!inFont-&gt;<a class="code" href="structFont.html#d02307751251813ef2bf1079d26c9bbf">fontData</a>) {
<a name="l00315"></a>00315 <span class="preprocessor">               #if FL_DEBUG_WARNING != 0</span>
<a name="l00316"></a>00316 <span class="preprocessor"></span>               <a class="code" href="flDebug_8h.html#a122223db39f9f6ab0773adbf5de1a97">debugWarning</a>(<span class="stringliteral">"Texture font has no data."</span>);
<a name="l00317"></a>00317 <span class="preprocessor">               #endif</span>
<a name="l00318"></a>00318 <span class="preprocessor"></span>               <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00319"></a>00319           }
<a name="l00320"></a>00320           <span class="keywordflow">if</span>(inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#7dc8628be275d5fe722b01221ff470f9">FONT_TYPE_TEXTURE_MONO</a>) {
<a name="l00321"></a>00321                <a class="code" href="structTexture.html">Texture</a>* tempTex = (<a class="code" href="structTexture.html">Texture</a>*)inFont-&gt;<a class="code" href="structFont.html#d02307751251813ef2bf1079d26c9bbf">fontData</a>;
<a name="l00322"></a>00322                u32* tempColorPtr = (u32*)tempTex-&gt;<a class="code" href="structTexture.html#01d7cb5c9b302dea1b79112f1cf1cb37">texPalette</a>-&gt;<a class="code" href="structPalette.html#fe95a9fca04cb4066dc4651cd604c7b0">palData</a>;
<a name="l00323"></a>00323                <span class="keywordflow">if</span>((inFont-&gt;<a class="code" href="structFont.html#749f6803de52746718fc657a0fc1706b">fontColor</a> != tempColorPtr[15]) || (inFont-&gt;<a class="code" href="structFont.html#c822d07878de3cc0b94cedd2ce614025">fontBackColor</a> != tempColorPtr[0])) {
<a name="l00324"></a>00324                     <a class="code" href="flTexture_8c.html#306915805350c2933a2ccfee61cfc7da">palFree</a>(tempTex-&gt;<a class="code" href="structTexture.html#01d7cb5c9b302dea1b79112f1cf1cb37">texPalette</a>);
<a name="l00325"></a>00325                     tempTex-&gt;<a class="code" href="structTexture.html#01d7cb5c9b302dea1b79112f1cf1cb37">texPalette</a> = <a class="code" href="flTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00326"></a>00326                     tempTex-&gt;<a class="code" href="structTexture.html#01d7cb5c9b302dea1b79112f1cf1cb37">texPalette</a> = <a class="code" href="flTexture_8c.html#5eeec9707c8c18854c134ea6860946f4">palCreateMonoT4</a>(inFont-&gt;<a class="code" href="structFont.html#749f6803de52746718fc657a0fc1706b">fontColor</a>, inFont-&gt;<a class="code" href="structFont.html#c822d07878de3cc0b94cedd2ce614025">fontBackColor</a>);
<a name="l00327"></a>00327                     <span class="keywordflow">if</span>(!tempTex-&gt;<a class="code" href="structTexture.html#01d7cb5c9b302dea1b79112f1cf1cb37">texPalette</a>) {
<a name="l00328"></a>00328 <span class="preprocessor">                         #if FL_DEBUG_ERROR != 0</span>
<a name="l00329"></a>00329 <span class="preprocessor"></span>                         <a class="code" href="flDebug_8h.html#2cd68b8e989a5902ba62dabe20596f07">debugError</a>(<span class="stringliteral">"Couldn't recreate palette for mono texture."</span>);
<a name="l00330"></a>00330 <span class="preprocessor">                         #endif</span>
<a name="l00331"></a>00331 <span class="preprocessor"></span>                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00332"></a>00332                     }
<a name="l00333"></a>00333                }
<a name="l00334"></a>00334                <span class="keywordflow">if</span>(!tempTex-&gt;<a class="code" href="structTexture.html#01d7cb5c9b302dea1b79112f1cf1cb37">texPalette</a>) {
<a name="l00335"></a>00335 <span class="preprocessor">                    #if FL_DEBUG_ERROR != 0</span>
<a name="l00336"></a>00336 <span class="preprocessor"></span>                    <a class="code" href="flDebug_8h.html#2cd68b8e989a5902ba62dabe20596f07">debugError</a>(<span class="stringliteral">"Can't draw from mono texture, as it has no palette."</span>);
<a name="l00337"></a>00337 <span class="preprocessor">                    #endif</span>
<a name="l00338"></a>00338 <span class="preprocessor"></span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00339"></a>00339                }
<a name="l00340"></a>00340           } <span class="keywordflow">else</span> {
<a name="l00341"></a>00341                <span class="keywordflow">if</span>((inFont-&gt;<a class="code" href="structFont.html#c822d07878de3cc0b94cedd2ce614025">fontBackColor</a> &amp; 0xFF000000)!= 0x00000000) {
<a name="l00342"></a>00342                     <a class="code" href="structvertCVs.html">vertCVs</a>* tempBackVerts = (<a class="code" href="structvertCVs.html">vertCVs</a>*)sceGuGetMemory(<span class="keyword">sizeof</span>(<a class="code" href="structvertCVs.html">vertCVs</a>) &lt;&lt; 1);
<a name="l00343"></a>00343                     tempBackVerts[0].<a class="code" href="structvertCVs.html#43181117ce1cfb881e63f4f4a0030c39">vertX</a> = inX;
<a name="l00344"></a>00344                     tempBackVerts[0].<a class="code" href="structvertCVs.html#31cfb2bd2877213048566ed2d3e0f5db">vertY</a> = inY;
<a name="l00345"></a>00345                     tempBackVerts[0].<a class="code" href="structvertCVs.html#992c40abe268ad6f078d478665288548">vertZ</a> = 0;
<a name="l00346"></a>00346                     tempBackVerts[0].<a class="code" href="structvertCVs.html#8ebfc898c547e3313475fa5273889c13">vertColor</a> = inFont-&gt;<a class="code" href="structFont.html#c822d07878de3cc0b94cedd2ce614025">fontBackColor</a>;
<a name="l00347"></a>00347                     tempBackVerts[1].<a class="code" href="structvertCVs.html#43181117ce1cfb881e63f4f4a0030c39">vertX</a> = inX + <a class="code" href="flFont_8c.html#885fc7115e929b241e957568f1e15be5">fontCharWidth</a>(inFont, inChar);
<a name="l00348"></a>00348                     tempBackVerts[1].<a class="code" href="structvertCVs.html#31cfb2bd2877213048566ed2d3e0f5db">vertY</a> = inY + <a class="code" href="flFont_8c.html#52a6b73a87f357f4063ff8ebc8e5f974">fontHeight</a>(inFont);
<a name="l00349"></a>00349                     tempBackVerts[1].<a class="code" href="structvertCVs.html#992c40abe268ad6f078d478665288548">vertZ</a> = 0;
<a name="l00350"></a>00350                     tempBackVerts[1].<a class="code" href="structvertCVs.html#8ebfc898c547e3313475fa5273889c13">vertColor</a> = inFont-&gt;<a class="code" href="structFont.html#c822d07878de3cc0b94cedd2ce614025">fontBackColor</a>;
<a name="l00351"></a>00351                     sceGuDrawArray(GU_SPRITES, GU_COLOR_8888 | GU_VERTEX_16BIT | GU_TRANSFORM_2D, 2, 0, tempBackVerts);
<a name="l00352"></a>00352                }
<a name="l00353"></a>00353           }
<a name="l00354"></a>00354           <a class="code" href="flTexture_8c.html#83362b9a35e8267e6e24cc103e864cda">texBind</a>((<a class="code" href="structTexture.html">Texture</a>*)inFont-&gt;<a class="code" href="structFont.html#d02307751251813ef2bf1079d26c9bbf">fontData</a>);
<a name="l00355"></a>00355           sceGuTexFunc(GU_TFX_REPLACE, GU_TCC_RGBA);
<a name="l00356"></a>00356           sceGuTexFilter(GU_NEAREST, GU_NEAREST);
<a name="l00357"></a>00357           <a class="code" href="structvertTsVs.html">vertTsVs</a>* tempVerts = (<a class="code" href="structvertTsVs.html">vertTsVs</a>*)sceGuGetMemory(<span class="keyword">sizeof</span>(<a class="code" href="structvertTsVs.html">vertTsVs</a>) &lt;&lt; 1);
<a name="l00358"></a>00358           tempVerts[0].<a class="code" href="structvertTsVs.html#9a200b5f9dc0c010c3cba2dad0511267">vertX</a> = inX;
<a name="l00359"></a>00359           tempVerts[0].<a class="code" href="structvertTsVs.html#52b66321252b77d699242c6c52bd550a">vertY</a> = inY;
<a name="l00360"></a>00360           tempVerts[0].<a class="code" href="structvertTsVs.html#445ad11bb89226ca03e5d2233f0b760e">vertZ</a> = 0;
<a name="l00361"></a>00361           tempVerts[0].<a class="code" href="structvertTsVs.html#d936343eefb14453c2ce7dbe1c974998">vertU</a> = ((inChar &amp; 15) * (((<a class="code" href="structTexture.html">Texture</a>*)inFont-&gt;<a class="code" href="structFont.html#d02307751251813ef2bf1079d26c9bbf">fontData</a>)-&gt;texWidth &gt;&gt; 4));
<a name="l00362"></a>00362           tempVerts[0].<a class="code" href="structvertTsVs.html#19540ba7d3f948bfeff2e2230958e6f0">vertV</a> = (((inChar &gt;&gt; 4) &amp; 15) * (((<a class="code" href="structTexture.html">Texture</a>*)inFont-&gt;<a class="code" href="structFont.html#d02307751251813ef2bf1079d26c9bbf">fontData</a>)-&gt;texHeight &gt;&gt; 4));
<a name="l00363"></a>00363           tempVerts[1].<a class="code" href="structvertTsVs.html#9a200b5f9dc0c010c3cba2dad0511267">vertX</a> = inX + <a class="code" href="flFont_8c.html#885fc7115e929b241e957568f1e15be5">fontCharWidth</a>(inFont, inChar);
<a name="l00364"></a>00364           tempVerts[1].<a class="code" href="structvertTsVs.html#52b66321252b77d699242c6c52bd550a">vertY</a> = inY + <a class="code" href="flFont_8c.html#52a6b73a87f357f4063ff8ebc8e5f974">fontHeight</a>(inFont);
<a name="l00365"></a>00365           tempVerts[1].<a class="code" href="structvertTsVs.html#445ad11bb89226ca03e5d2233f0b760e">vertZ</a> = 0;
<a name="l00366"></a>00366           tempVerts[1].<a class="code" href="structvertTsVs.html#d936343eefb14453c2ce7dbe1c974998">vertU</a> = ((inChar &amp; 15) * (((<a class="code" href="structTexture.html">Texture</a>*)inFont-&gt;<a class="code" href="structFont.html#d02307751251813ef2bf1079d26c9bbf">fontData</a>)-&gt;texWidth &gt;&gt; 4)) + <a class="code" href="flFont_8c.html#885fc7115e929b241e957568f1e15be5">fontCharWidth</a>(inFont, inChar);
<a name="l00367"></a>00367           tempVerts[1].<a class="code" href="structvertTsVs.html#19540ba7d3f948bfeff2e2230958e6f0">vertV</a> = (((inChar &gt;&gt; 4) &amp; 15) * (((<a class="code" href="structTexture.html">Texture</a>*)inFont-&gt;<a class="code" href="structFont.html#d02307751251813ef2bf1079d26c9bbf">fontData</a>)-&gt;texHeight &gt;&gt; 4)) + <a class="code" href="flFont_8c.html#52a6b73a87f357f4063ff8ebc8e5f974">fontHeight</a>(inFont);
<a name="l00368"></a>00368           sceGuDrawArray(GU_SPRITES, GU_TEXTURE_16BIT | GU_VERTEX_16BIT | GU_TRANSFORM_2D, 2, 0, tempVerts);
<a name="l00369"></a>00369           <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00370"></a>00370      }
<a name="l00371"></a>00371 <span class="preprocessor">     #endif</span>
<a name="l00372"></a>00372 <span class="preprocessor"></span>     <span class="keywordflow">if</span>(inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#2bdce43e1cf054fb65e1cbab7be49064">FONT_TYPE_DEBUG</a>) {
<a name="l00373"></a>00373           sceGuClutMode(GU_PSM_8888, 0, 0xFF, 0);
<a name="l00374"></a>00374 <span class="preprocessor">          #if FL_TEXTURE</span>
<a name="l00375"></a>00375 <span class="preprocessor"></span>          <span class="keywordflow">if</span>((u32)<a class="code" href="flTexture_8c.html#e67e55c1dd935fedcb7c2fe59b24e832">palBound</a> != (u32)<a class="code" href="flFont_8c.html#c052cbaf897ef9ff80c958ca1099f64a">fontMonoPal</a>) {
<a name="l00376"></a>00376                sceGuClutLoad(2, (<span class="keywordtype">void</span>*)fontMonoPal);
<a name="l00377"></a>00377                <a class="code" href="flTexture_8c.html#e67e55c1dd935fedcb7c2fe59b24e832">palBound</a> = (<span class="keywordtype">void</span>*)fontMonoPal;
<a name="l00378"></a>00378           }
<a name="l00379"></a>00379 <span class="preprocessor">          #else</span>
<a name="l00380"></a>00380 <span class="preprocessor"></span>          sceGuClutLoad(2, (<span class="keywordtype">void</span>*)fontMonoPal);
<a name="l00381"></a>00381 <span class="preprocessor">          #endif</span>
<a name="l00382"></a>00382 <span class="preprocessor"></span>
<a name="l00383"></a>00383           sceGuTexFilter(GU_NEAREST, GU_NEAREST);
<a name="l00384"></a>00384           sceGuTexMode(GU_PSM_T4, 0, 0, GU_TRUE);
<a name="l00385"></a>00385 
<a name="l00386"></a>00386 <span class="preprocessor">          #if FL_TEXTURE</span>
<a name="l00387"></a>00387 <span class="preprocessor"></span>          <span class="keywordflow">if</span>((u32)<a class="code" href="flTexture_8c.html#669099ea7e18ce677cfd3a697f83b71c">texBound</a> != (u32)<a class="code" href="flFont_8c.html#15856dc4b3f06ce8ab011570ab980871">fontDebugTex</a>) {
<a name="l00388"></a>00388                sceGuTexImage(0, 128, 128, 128, (<span class="keywordtype">void</span>*)fontDebugTex);
<a name="l00389"></a>00389                <a class="code" href="flTexture_8c.html#669099ea7e18ce677cfd3a697f83b71c">texBound</a> = (<span class="keywordtype">void</span>*)fontDebugTex;
<a name="l00390"></a>00390           }
<a name="l00391"></a>00391 <span class="preprocessor">          #else</span>
<a name="l00392"></a>00392 <span class="preprocessor"></span>          sceGuTexImage(0, 128, 128, 128, (<span class="keywordtype">void</span>*)fontDebugTex);
<a name="l00393"></a>00393 <span class="preprocessor">          #endif</span>
<a name="l00394"></a>00394 <span class="preprocessor"></span> 
<a name="l00395"></a>00395           sceGuTexFunc(GU_TFX_MODULATE, GU_TCC_RGBA);
<a name="l00396"></a>00396           sceGuColor(inFont-&gt;<a class="code" href="structFont.html#749f6803de52746718fc657a0fc1706b">fontColor</a>);
<a name="l00397"></a>00397           
<a name="l00398"></a>00398           <a class="code" href="structvertTsVs.html">vertTsVs</a>* tempVerts = (<a class="code" href="structvertTsVs.html">vertTsVs</a>*)sceGuGetMemory(<span class="keyword">sizeof</span>(<a class="code" href="structvertTsVs.html">vertTsVs</a>) &lt;&lt; 1);
<a name="l00399"></a>00399           tempVerts[0].<a class="code" href="structvertTsVs.html#9a200b5f9dc0c010c3cba2dad0511267">vertX</a> = inX;
<a name="l00400"></a>00400           tempVerts[0].<a class="code" href="structvertTsVs.html#52b66321252b77d699242c6c52bd550a">vertY</a> = inY;
<a name="l00401"></a>00401           tempVerts[0].<a class="code" href="structvertTsVs.html#445ad11bb89226ca03e5d2233f0b760e">vertZ</a> = 0;
<a name="l00402"></a>00402           tempVerts[0].<a class="code" href="structvertTsVs.html#d936343eefb14453c2ce7dbe1c974998">vertU</a> = ((inChar &amp; 15) &lt;&lt; 3);
<a name="l00403"></a>00403           tempVerts[0].<a class="code" href="structvertTsVs.html#19540ba7d3f948bfeff2e2230958e6f0">vertV</a> = (((inChar &gt;&gt; 4) &amp; 15) &lt;&lt; 3);
<a name="l00404"></a>00404           tempVerts[1].<a class="code" href="structvertTsVs.html#9a200b5f9dc0c010c3cba2dad0511267">vertX</a> = inX + 8;
<a name="l00405"></a>00405           tempVerts[1].<a class="code" href="structvertTsVs.html#52b66321252b77d699242c6c52bd550a">vertY</a> = inY + 8;
<a name="l00406"></a>00406           tempVerts[1].<a class="code" href="structvertTsVs.html#445ad11bb89226ca03e5d2233f0b760e">vertZ</a> = 0;
<a name="l00407"></a>00407           tempVerts[1].<a class="code" href="structvertTsVs.html#d936343eefb14453c2ce7dbe1c974998">vertU</a> = ((inChar &amp; 15) &lt;&lt; 3) + 8;
<a name="l00408"></a>00408           tempVerts[1].<a class="code" href="structvertTsVs.html#19540ba7d3f948bfeff2e2230958e6f0">vertV</a> = (((inChar &gt;&gt; 4) &amp; 15) &lt;&lt; 3) + 8;
<a name="l00409"></a>00409           sceGuDrawArray(GU_SPRITES, GU_TEXTURE_16BIT | GU_VERTEX_16BIT | GU_TRANSFORM_2D, 2, 0, tempVerts);
<a name="l00410"></a>00410           
<a name="l00411"></a>00411           sceGuColor(0xFFFFFFFF);
<a name="l00412"></a>00412           <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00413"></a>00413      }
<a name="l00414"></a>00414 <span class="preprocessor">     #else</span>
<a name="l00415"></a>00415 <span class="preprocessor"></span>     <span class="keywordflow">if</span>(inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#2bdce43e1cf054fb65e1cbab7be49064">FONT_TYPE_DEBUG</a>) {
<a name="l00416"></a>00416           pspDebugScreenSetBackColor(inFont-&gt;<a class="code" href="structFont.html#c822d07878de3cc0b94cedd2ce614025">fontBackColor</a>);
<a name="l00417"></a>00417           pspDebugScreenPutChar(inX, inY, inFont-&gt;<a class="code" href="structFont.html#749f6803de52746718fc657a0fc1706b">fontColor</a>, (u8)inChar);
<a name="l00418"></a>00418           <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00419"></a>00419      }
<a name="l00420"></a>00420 <span class="preprocessor">     #endif</span>
<a name="l00421"></a>00421 <span class="preprocessor"></span><span class="preprocessor">     #if FL_DEBUG_WARNING != 0</span>
<a name="l00422"></a>00422 <span class="preprocessor"></span>     <span class="keywordtype">char</span> tempString[512];
<a name="l00423"></a>00423      sprintf(tempString, <span class="stringliteral">"Error drawing 2d char."</span>);
<a name="l00424"></a>00424 <span class="preprocessor">     #if FL_GRAPHICS == 0</span>
<a name="l00425"></a>00425 <span class="preprocessor"></span>     sprintf(tempString, <span class="stringliteral">"%s\nTry including GRAPHICS for more success."</span>, tempString);
<a name="l00426"></a>00426 <span class="preprocessor">     #endif</span>
<a name="l00427"></a>00427 <span class="preprocessor"></span><span class="preprocessor">     #if FL_TEXTURE == 0</span>
<a name="l00428"></a>00428 <span class="preprocessor"></span>     sprintf(tempString, <span class="stringliteral">"%s\nTry including TEXTURE for more success."</span>, tempString);
<a name="l00429"></a>00429 <span class="preprocessor">     #endif</span>
<a name="l00430"></a>00430 <span class="preprocessor"></span>     <a class="code" href="flDebug_8h.html#a122223db39f9f6ab0773adbf5de1a97">debugWarning</a>(tempString);
<a name="l00431"></a>00431 <span class="preprocessor">     #endif</span>
<a name="l00432"></a>00432 <span class="preprocessor"></span>     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00433"></a>00433 }
<a name="l00434"></a>00434 
<a name="l00435"></a><a class="code" href="flFont_8h.html#0f17a042bd1e5d440c89e3da55e20898">00435</a> <span class="keywordtype">void</span> <a class="code" href="flFont_8c.html#0f17a042bd1e5d440c89e3da55e20898">fontDraw2dString</a>(<span class="keywordtype">int</span> inX, <span class="keywordtype">int</span> inY, <a class="code" href="structFont.html">Font</a>* inFont, <span class="keywordtype">char</span>* inString) {
<a name="l00436"></a>00436      <span class="keywordflow">if</span>(!inFont || !inString || !inString[0])
<a name="l00437"></a>00437           <span class="keywordflow">return</span>;
<a name="l00438"></a>00438 <span class="preprocessor">     #if FL_GRAPHICS != 0</span>
<a name="l00439"></a>00439 <span class="preprocessor"></span><span class="preprocessor">     #if FL_TEXTURE != 0</span>
<a name="l00440"></a>00440 <span class="preprocessor"></span>     <span class="keywordflow">if</span>((inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#fad664fdb870e740aa0d9bc182298ea0">FONT_TYPE_TEXTURE</a>) || (inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#7dc8628be275d5fe722b01221ff470f9">FONT_TYPE_TEXTURE_MONO</a>)) {
<a name="l00441"></a>00441           <span class="keywordflow">if</span>(!inFont-&gt;<a class="code" href="structFont.html#d02307751251813ef2bf1079d26c9bbf">fontData</a>) {
<a name="l00442"></a>00442 <span class="preprocessor">               #if FL_DEBUG_WARNING != 0</span>
<a name="l00443"></a>00443 <span class="preprocessor"></span>               <a class="code" href="flDebug_8h.html#a122223db39f9f6ab0773adbf5de1a97">debugWarning</a>(<span class="stringliteral">"Texture font has no data."</span>);
<a name="l00444"></a>00444 <span class="preprocessor">               #endif</span>
<a name="l00445"></a>00445 <span class="preprocessor"></span>               <span class="keywordflow">return</span>;
<a name="l00446"></a>00446           }
<a name="l00447"></a>00447           <span class="keywordflow">if</span>(inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#7dc8628be275d5fe722b01221ff470f9">FONT_TYPE_TEXTURE_MONO</a>) {
<a name="l00448"></a>00448                <a class="code" href="structTexture.html">Texture</a>* tempTex = (<a class="code" href="structTexture.html">Texture</a>*)inFont-&gt;<a class="code" href="structFont.html#d02307751251813ef2bf1079d26c9bbf">fontData</a>;
<a name="l00449"></a>00449                u32* tempColorPtr = (u32*)tempTex-&gt;<a class="code" href="structTexture.html#01d7cb5c9b302dea1b79112f1cf1cb37">texPalette</a>-&gt;<a class="code" href="structPalette.html#fe95a9fca04cb4066dc4651cd604c7b0">palData</a>;
<a name="l00450"></a>00450                <span class="keywordflow">if</span>((inFont-&gt;<a class="code" href="structFont.html#749f6803de52746718fc657a0fc1706b">fontColor</a> != tempColorPtr[15]) || (inFont-&gt;<a class="code" href="structFont.html#c822d07878de3cc0b94cedd2ce614025">fontBackColor</a> != tempColorPtr[0])) {
<a name="l00451"></a>00451                     <a class="code" href="flTexture_8c.html#306915805350c2933a2ccfee61cfc7da">palFree</a>(tempTex-&gt;<a class="code" href="structTexture.html#01d7cb5c9b302dea1b79112f1cf1cb37">texPalette</a>);
<a name="l00452"></a>00452                     tempTex-&gt;<a class="code" href="structTexture.html#01d7cb5c9b302dea1b79112f1cf1cb37">texPalette</a> = <a class="code" href="flTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00453"></a>00453                     tempTex-&gt;<a class="code" href="structTexture.html#01d7cb5c9b302dea1b79112f1cf1cb37">texPalette</a> = <a class="code" href="flTexture_8c.html#5eeec9707c8c18854c134ea6860946f4">palCreateMonoT4</a>(inFont-&gt;<a class="code" href="structFont.html#749f6803de52746718fc657a0fc1706b">fontColor</a>, inFont-&gt;<a class="code" href="structFont.html#c822d07878de3cc0b94cedd2ce614025">fontBackColor</a>);
<a name="l00454"></a>00454                     <span class="keywordflow">if</span>(!tempTex-&gt;<a class="code" href="structTexture.html#01d7cb5c9b302dea1b79112f1cf1cb37">texPalette</a>) {
<a name="l00455"></a>00455 <span class="preprocessor">                         #if FL_DEBUG_ERROR != 0</span>
<a name="l00456"></a>00456 <span class="preprocessor"></span>                         <a class="code" href="flDebug_8h.html#2cd68b8e989a5902ba62dabe20596f07">debugError</a>(<span class="stringliteral">"Couldn't recreate palette for mono texture."</span>);
<a name="l00457"></a>00457 <span class="preprocessor">                         #endif</span>
<a name="l00458"></a>00458 <span class="preprocessor"></span>                         <span class="keywordflow">return</span>;
<a name="l00459"></a>00459                     }
<a name="l00460"></a>00460                }
<a name="l00461"></a>00461                <span class="keywordflow">if</span>(!tempTex-&gt;<a class="code" href="structTexture.html#01d7cb5c9b302dea1b79112f1cf1cb37">texPalette</a>) {
<a name="l00462"></a>00462 <span class="preprocessor">                    #if FL_DEBUG_ERROR != 0</span>
<a name="l00463"></a>00463 <span class="preprocessor"></span>                    <a class="code" href="flDebug_8h.html#2cd68b8e989a5902ba62dabe20596f07">debugError</a>(<span class="stringliteral">"Can't draw from mono texture, as it has no palette."</span>);
<a name="l00464"></a>00464 <span class="preprocessor">                    #endif</span>
<a name="l00465"></a>00465 <span class="preprocessor"></span>                    <span class="keywordflow">return</span>;
<a name="l00466"></a>00466                }
<a name="l00467"></a>00467           }
<a name="l00468"></a>00468           sceGuDisable(GU_DEPTH_TEST);
<a name="l00469"></a>00469           <a class="code" href="flTexture_8c.html#83362b9a35e8267e6e24cc103e864cda">texBind</a>((<a class="code" href="structTexture.html">Texture</a>*)inFont-&gt;<a class="code" href="structFont.html#d02307751251813ef2bf1079d26c9bbf">fontData</a>);
<a name="l00470"></a>00470           sceGuTexFunc(GU_TFX_REPLACE, GU_TCC_RGBA);
<a name="l00471"></a>00471           sceGuTexFilter(GU_NEAREST, GU_NEAREST);
<a name="l00472"></a>00472      }
<a name="l00473"></a>00473      <a class="code" href="structvertCVs.html">vertCVs</a>* tempBackVerts;
<a name="l00474"></a>00474 <span class="preprocessor">     #else</span>
<a name="l00475"></a>00475 <span class="preprocessor"></span>     <span class="keywordflow">if</span>(inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#2bdce43e1cf054fb65e1cbab7be49064">FONT_TYPE_DEBUG</a>)
<a name="l00476"></a>00476           pspDebugScreenSetBackColor(inFont-&gt;<a class="code" href="structFont.html#c822d07878de3cc0b94cedd2ce614025">fontBackColor</a>);
<a name="l00477"></a>00477 <span class="preprocessor">     #endif</span>
<a name="l00478"></a>00478 <span class="preprocessor"></span>     <span class="keywordflow">if</span>(inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#2bdce43e1cf054fb65e1cbab7be49064">FONT_TYPE_DEBUG</a>) {
<a name="l00479"></a>00479           sceGuDisable(GU_DEPTH_TEST);
<a name="l00480"></a>00480           sceGuClutMode(GU_PSM_8888, 0, 0xFF, 0);
<a name="l00481"></a>00481 
<a name="l00482"></a>00482 <span class="preprocessor">          #if FL_TEXTURE</span>
<a name="l00483"></a>00483 <span class="preprocessor"></span>          <span class="keywordflow">if</span>((u32)<a class="code" href="flTexture_8c.html#e67e55c1dd935fedcb7c2fe59b24e832">palBound</a> != (u32)<a class="code" href="flFont_8c.html#c052cbaf897ef9ff80c958ca1099f64a">fontMonoPal</a>) {
<a name="l00484"></a>00484                sceGuClutLoad(2, (<span class="keywordtype">void</span>*)fontMonoPal);
<a name="l00485"></a>00485                <a class="code" href="flTexture_8c.html#e67e55c1dd935fedcb7c2fe59b24e832">palBound</a> = (<span class="keywordtype">void</span>*)fontMonoPal;
<a name="l00486"></a>00486           }
<a name="l00487"></a>00487 <span class="preprocessor">          #else</span>
<a name="l00488"></a>00488 <span class="preprocessor"></span>          sceGuClutLoad(2, (<span class="keywordtype">void</span>*)fontMonoPal);
<a name="l00489"></a>00489 <span class="preprocessor">          #endif</span>
<a name="l00490"></a>00490 <span class="preprocessor"></span>          
<a name="l00491"></a>00491           sceGuTexFilter(GU_NEAREST, GU_NEAREST);
<a name="l00492"></a>00492           sceGuTexMode(GU_PSM_T4, 0, 0, GU_TRUE);
<a name="l00493"></a>00493 
<a name="l00494"></a>00494 <span class="preprocessor">          #if FL_TEXTURE</span>
<a name="l00495"></a>00495 <span class="preprocessor"></span>          <span class="keywordflow">if</span>((u32)<a class="code" href="flTexture_8c.html#669099ea7e18ce677cfd3a697f83b71c">texBound</a> != (u32)<a class="code" href="flFont_8c.html#15856dc4b3f06ce8ab011570ab980871">fontDebugTex</a>) {
<a name="l00496"></a>00496                sceGuTexImage(0, 128, 128, 128, (<span class="keywordtype">void</span>*)fontDebugTex);
<a name="l00497"></a>00497                <a class="code" href="flTexture_8c.html#669099ea7e18ce677cfd3a697f83b71c">texBound</a> = (<span class="keywordtype">void</span>*)fontDebugTex;
<a name="l00498"></a>00498           }
<a name="l00499"></a>00499 <span class="preprocessor">          #else</span>
<a name="l00500"></a>00500 <span class="preprocessor"></span>          sceGuTexImage(0, 128, 128, 128, (<span class="keywordtype">void</span>*)fontDebugTex);
<a name="l00501"></a>00501 
<a name="l00502"></a>00502 <span class="preprocessor">          #endif</span>
<a name="l00503"></a>00503 <span class="preprocessor"></span>          sceGuTexFunc(GU_TFX_MODULATE, GU_TCC_RGBA);
<a name="l00504"></a>00504           sceGuColor(inFont-&gt;<a class="code" href="structFont.html#749f6803de52746718fc657a0fc1706b">fontColor</a>);
<a name="l00505"></a>00505      }
<a name="l00506"></a>00506      <a class="code" href="structvertTsVs.html">vertTsVs</a>* tempVerts;
<a name="l00507"></a>00507 <span class="preprocessor">     #endif</span>
<a name="l00508"></a>00508 <span class="preprocessor"></span>     
<a name="l00509"></a>00509      <span class="keywordtype">int</span> tempLen = strlen(inString);
<a name="l00510"></a>00510      <span class="keywordtype">int</span> tempX, tempY;
<a name="l00511"></a>00511      tempX = inX;
<a name="l00512"></a>00512      tempY = inY;
<a name="l00513"></a>00513      <span class="keywordtype">int</span> i;
<a name="l00514"></a>00514      <span class="keywordflow">for</span>(i = 0; i &lt; tempLen; i++) {
<a name="l00515"></a>00515           <span class="keywordflow">if</span>(inString[i] == <a class="code" href="flDefines_8h.html#ca3b498f5936dbe4f3076a47c3e1810d">ASCII_LF</a>) {
<a name="l00516"></a>00516                tempX = inX;
<a name="l00517"></a>00517                tempY += (<a class="code" href="flFont_8c.html#52a6b73a87f357f4063ff8ebc8e5f974">fontHeight</a>(inFont) + inFont-&gt;<a class="code" href="structFont.html#1fc2cd173a375811b58a0e783527be0a">fontVSpace</a>);
<a name="l00518"></a>00518           } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(inString[i] == <a class="code" href="flDefines_8h.html#089ed4925403ab02a05e603967c74579">ASCII_CR</a>) {
<a name="l00519"></a>00519                tempX = inX;
<a name="l00520"></a>00520           } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(inString[i] == <a class="code" href="flDefines_8h.html#74cfd0b97396b41e6cbb25de858ece5b">ASCII_BS</a>) {
<a name="l00521"></a>00521                tempX += (<a class="code" href="flFont_8c.html#885fc7115e929b241e957568f1e15be5">fontCharWidth</a>(inFont, <a class="code" href="flDefines_8h.html#74cfd0b97396b41e6cbb25de858ece5b">ASCII_BS</a>) - inFont-&gt;<a class="code" href="structFont.html#2b8046eb558457735d03eecffff2892c">fontHSpace</a>);
<a name="l00522"></a>00522           } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(inString[i] == <a class="code" href="flDefines_8h.html#bcd3d8c3082acbb105816e2274d1fb2f">ASCII_TAB</a>) {
<a name="l00523"></a>00523                tempX += (<a class="code" href="flFont_8c.html#885fc7115e929b241e957568f1e15be5">fontCharWidth</a>(inFont, <a class="code" href="flDefines_8h.html#bcd3d8c3082acbb105816e2274d1fb2f">ASCII_TAB</a>) + inFont-&gt;<a class="code" href="structFont.html#2b8046eb558457735d03eecffff2892c">fontHSpace</a>);
<a name="l00524"></a>00524           } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)inString[i] &lt; <a class="code" href="flDefines_8h.html#7b42baa421e0d53aa73e093326d3d033">ASCII_SPACE</a>) || ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)inString[i] == 0x7F) || ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)inString[i] == 0xFF)) {
<a name="l00525"></a>00525                <span class="keywordflow">continue</span>;
<a name="l00526"></a>00526           } <span class="keywordflow">else</span> {
<a name="l00527"></a>00527 <span class="preprocessor">               #if FL_GRAPHICS != 0</span>
<a name="l00528"></a>00528 <span class="preprocessor"></span><span class="preprocessor">               #if FL_TEXTURE != 0</span>
<a name="l00529"></a>00529 <span class="preprocessor"></span>               <span class="keywordflow">if</span>((inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#fad664fdb870e740aa0d9bc182298ea0">FONT_TYPE_TEXTURE</a>) || (inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#7dc8628be275d5fe722b01221ff470f9">FONT_TYPE_TEXTURE_MONO</a>)) {
<a name="l00530"></a>00530                     tempVerts = (<a class="code" href="structvertTsVs.html">vertTsVs</a>*)sceGuGetMemory(<span class="keyword">sizeof</span>(<a class="code" href="structvertTsVs.html">vertTsVs</a>) &lt;&lt; 1);
<a name="l00531"></a>00531                     tempVerts[0].<a class="code" href="structvertTsVs.html#9a200b5f9dc0c010c3cba2dad0511267">vertX</a> = tempX;
<a name="l00532"></a>00532                     tempVerts[0].<a class="code" href="structvertTsVs.html#52b66321252b77d699242c6c52bd550a">vertY</a> = tempY;
<a name="l00533"></a>00533                     tempVerts[0].<a class="code" href="structvertTsVs.html#445ad11bb89226ca03e5d2233f0b760e">vertZ</a> = 0;
<a name="l00534"></a>00534                     tempVerts[0].<a class="code" href="structvertTsVs.html#d936343eefb14453c2ce7dbe1c974998">vertU</a> = ((inString[i] &amp; 15) * (((<a class="code" href="structTexture.html">Texture</a>*)inFont-&gt;<a class="code" href="structFont.html#d02307751251813ef2bf1079d26c9bbf">fontData</a>)-&gt;texWidth &gt;&gt; 4));
<a name="l00535"></a>00535                     tempVerts[0].<a class="code" href="structvertTsVs.html#19540ba7d3f948bfeff2e2230958e6f0">vertV</a> = (((inString[i] &gt;&gt; 4) &amp; 15) * (((<a class="code" href="structTexture.html">Texture</a>*)inFont-&gt;<a class="code" href="structFont.html#d02307751251813ef2bf1079d26c9bbf">fontData</a>)-&gt;texHeight &gt;&gt; 4));
<a name="l00536"></a>00536                     tempVerts[1].<a class="code" href="structvertTsVs.html#9a200b5f9dc0c010c3cba2dad0511267">vertX</a> = tempX + <a class="code" href="flFont_8c.html#885fc7115e929b241e957568f1e15be5">fontCharWidth</a>(inFont, inString[i]);
<a name="l00537"></a>00537                     tempVerts[1].<a class="code" href="structvertTsVs.html#52b66321252b77d699242c6c52bd550a">vertY</a> = tempY + <a class="code" href="flFont_8c.html#52a6b73a87f357f4063ff8ebc8e5f974">fontHeight</a>(inFont);
<a name="l00538"></a>00538                     tempVerts[1].<a class="code" href="structvertTsVs.html#445ad11bb89226ca03e5d2233f0b760e">vertZ</a> = 0;
<a name="l00539"></a>00539                     tempVerts[1].<a class="code" href="structvertTsVs.html#d936343eefb14453c2ce7dbe1c974998">vertU</a> = ((inString[i] &amp; 15) * (((<a class="code" href="structTexture.html">Texture</a>*)inFont-&gt;<a class="code" href="structFont.html#d02307751251813ef2bf1079d26c9bbf">fontData</a>)-&gt;texWidth &gt;&gt; 4)) + <a class="code" href="flFont_8c.html#885fc7115e929b241e957568f1e15be5">fontCharWidth</a>(inFont, inString[i]);
<a name="l00540"></a>00540                     tempVerts[1].<a class="code" href="structvertTsVs.html#19540ba7d3f948bfeff2e2230958e6f0">vertV</a> = (((inString[i] &gt;&gt; 4) &amp; 15) * (((<a class="code" href="structTexture.html">Texture</a>*)inFont-&gt;<a class="code" href="structFont.html#d02307751251813ef2bf1079d26c9bbf">fontData</a>)-&gt;texHeight &gt;&gt; 4)) + <a class="code" href="flFont_8c.html#52a6b73a87f357f4063ff8ebc8e5f974">fontHeight</a>(inFont);
<a name="l00541"></a>00541                     sceGuDrawArray(GU_SPRITES, GU_TEXTURE_16BIT | GU_VERTEX_16BIT | GU_TRANSFORM_2D, 2, 0, tempVerts);
<a name="l00542"></a>00542                     <span class="keywordflow">if</span>((inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#fad664fdb870e740aa0d9bc182298ea0">FONT_TYPE_TEXTURE</a>) &amp;&amp; ((inFont-&gt;<a class="code" href="structFont.html#c822d07878de3cc0b94cedd2ce614025">fontBackColor</a> &amp; 0xFF000000)!= 0x00000000)) {
<a name="l00543"></a>00543                          tempBackVerts = (<a class="code" href="structvertCVs.html">vertCVs</a>*)sceGuGetMemory(<span class="keyword">sizeof</span>(<a class="code" href="structvertCVs.html">vertCVs</a>) &lt;&lt; 1);
<a name="l00544"></a>00544                          tempBackVerts[0].<a class="code" href="structvertCVs.html#43181117ce1cfb881e63f4f4a0030c39">vertX</a> = tempX;
<a name="l00545"></a>00545                          tempBackVerts[0].<a class="code" href="structvertCVs.html#31cfb2bd2877213048566ed2d3e0f5db">vertY</a> = tempY;
<a name="l00546"></a>00546                          tempBackVerts[0].<a class="code" href="structvertCVs.html#992c40abe268ad6f078d478665288548">vertZ</a> = 0;
<a name="l00547"></a>00547                          tempBackVerts[0].<a class="code" href="structvertCVs.html#8ebfc898c547e3313475fa5273889c13">vertColor</a> = inFont-&gt;<a class="code" href="structFont.html#c822d07878de3cc0b94cedd2ce614025">fontBackColor</a>;
<a name="l00548"></a>00548                          tempBackVerts[1].<a class="code" href="structvertCVs.html#43181117ce1cfb881e63f4f4a0030c39">vertX</a> = tempX + <a class="code" href="flFont_8c.html#885fc7115e929b241e957568f1e15be5">fontCharWidth</a>(inFont, inString[i]);
<a name="l00549"></a>00549                          tempBackVerts[1].<a class="code" href="structvertCVs.html#31cfb2bd2877213048566ed2d3e0f5db">vertY</a> = tempY + <a class="code" href="flFont_8c.html#52a6b73a87f357f4063ff8ebc8e5f974">fontHeight</a>(inFont);
<a name="l00550"></a>00550                          tempBackVerts[1].<a class="code" href="structvertCVs.html#992c40abe268ad6f078d478665288548">vertZ</a> = 0;
<a name="l00551"></a>00551                          tempBackVerts[1].<a class="code" href="structvertCVs.html#8ebfc898c547e3313475fa5273889c13">vertColor</a> = inFont-&gt;<a class="code" href="structFont.html#c822d07878de3cc0b94cedd2ce614025">fontBackColor</a>;
<a name="l00552"></a>00552                          sceGuDrawArray(GU_SPRITES, GU_COLOR_8888 | GU_VERTEX_16BIT | GU_TRANSFORM_2D, 2, 0, tempBackVerts);
<a name="l00553"></a>00553                     }
<a name="l00554"></a>00554                }
<a name="l00555"></a>00555 <span class="preprocessor">               #endif</span>
<a name="l00556"></a>00556 <span class="preprocessor"></span>               <span class="keywordflow">if</span>(inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#2bdce43e1cf054fb65e1cbab7be49064">FONT_TYPE_DEBUG</a>) {
<a name="l00557"></a>00557                     tempVerts = (<a class="code" href="structvertTsVs.html">vertTsVs</a>*)sceGuGetMemory(<span class="keyword">sizeof</span>(<a class="code" href="structvertTsVs.html">vertTsVs</a>) &lt;&lt; 1);
<a name="l00558"></a>00558                     tempVerts[0].<a class="code" href="structvertTsVs.html#9a200b5f9dc0c010c3cba2dad0511267">vertX</a> = tempX;
<a name="l00559"></a>00559                     tempVerts[0].<a class="code" href="structvertTsVs.html#52b66321252b77d699242c6c52bd550a">vertY</a> = tempY;
<a name="l00560"></a>00560                     tempVerts[0].<a class="code" href="structvertTsVs.html#445ad11bb89226ca03e5d2233f0b760e">vertZ</a> = 0;
<a name="l00561"></a>00561                     tempVerts[0].<a class="code" href="structvertTsVs.html#d936343eefb14453c2ce7dbe1c974998">vertU</a> = ((inString[i] &amp; 15) &lt;&lt; 3);
<a name="l00562"></a>00562                     tempVerts[0].<a class="code" href="structvertTsVs.html#19540ba7d3f948bfeff2e2230958e6f0">vertV</a> = (((inString[i] &gt;&gt; 4) &amp; 15) &lt;&lt; 3);
<a name="l00563"></a>00563                     tempVerts[1].<a class="code" href="structvertTsVs.html#9a200b5f9dc0c010c3cba2dad0511267">vertX</a> = tempX + 8;
<a name="l00564"></a>00564                     tempVerts[1].<a class="code" href="structvertTsVs.html#52b66321252b77d699242c6c52bd550a">vertY</a> = tempY + 8;
<a name="l00565"></a>00565                     tempVerts[1].<a class="code" href="structvertTsVs.html#445ad11bb89226ca03e5d2233f0b760e">vertZ</a> = 0;
<a name="l00566"></a>00566                     tempVerts[1].<a class="code" href="structvertTsVs.html#d936343eefb14453c2ce7dbe1c974998">vertU</a> = ((inString[i] &amp; 15) &lt;&lt; 3) + 8;
<a name="l00567"></a>00567                     tempVerts[1].<a class="code" href="structvertTsVs.html#19540ba7d3f948bfeff2e2230958e6f0">vertV</a> = (((inString[i] &gt;&gt; 4) &amp; 15) &lt;&lt; 3) + 8;
<a name="l00568"></a>00568                     sceGuDrawArray(GU_SPRITES, GU_TEXTURE_16BIT | GU_VERTEX_16BIT | GU_TRANSFORM_2D, 2, 0, tempVerts);
<a name="l00569"></a>00569                }
<a name="l00570"></a>00570 <span class="preprocessor">               #else</span>
<a name="l00571"></a>00571 <span class="preprocessor"></span>               <span class="keywordflow">if</span>(inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#2bdce43e1cf054fb65e1cbab7be49064">FONT_TYPE_DEBUG</a>)
<a name="l00572"></a>00572                     pspDebugScreenPutChar(tempX, tempY, inFont-&gt;<a class="code" href="structFont.html#749f6803de52746718fc657a0fc1706b">fontColor</a>, (u8)inString[i]);
<a name="l00573"></a>00573 <span class="preprocessor">               #endif</span>
<a name="l00574"></a>00574 <span class="preprocessor"></span>               tempX += (<a class="code" href="flFont_8c.html#885fc7115e929b241e957568f1e15be5">fontCharWidth</a>(inFont, inString[i]) + inFont-&gt;<a class="code" href="structFont.html#2b8046eb558457735d03eecffff2892c">fontHSpace</a>);
<a name="l00575"></a>00575           }
<a name="l00576"></a>00576      }
<a name="l00577"></a>00577      
<a name="l00578"></a>00578 <span class="preprocessor">     #if FL_GRAPHICS != 0</span>
<a name="l00579"></a>00579 <span class="preprocessor"></span><span class="preprocessor">     #if FL_TEXTURE != 0</span>
<a name="l00580"></a>00580 <span class="preprocessor"></span>     <span class="keywordflow">if</span>((inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#fad664fdb870e740aa0d9bc182298ea0">FONT_TYPE_TEXTURE</a>) || (inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#7dc8628be275d5fe722b01221ff470f9">FONT_TYPE_TEXTURE_MONO</a>))
<a name="l00581"></a>00581           sceGuEnable(GU_DEPTH_TEST);
<a name="l00582"></a>00582 <span class="preprocessor">     #endif</span>
<a name="l00583"></a>00583 <span class="preprocessor"></span>     <span class="keywordflow">if</span>(inFont-&gt;<a class="code" href="structFont.html#06c6143754e51079a20fd2963ce70567">fontType</a> == <a class="code" href="flFont_8h.html#2bdce43e1cf054fb65e1cbab7be49064">FONT_TYPE_DEBUG</a>) {
<a name="l00584"></a>00584           sceGuEnable(GU_DEPTH_TEST);
<a name="l00585"></a>00585           sceGuColor(0xFFFFFFFF);
<a name="l00586"></a>00586      }
<a name="l00587"></a>00587 <span class="preprocessor">     #endif</span>
<a name="l00588"></a>00588 <span class="preprocessor"></span>}
<a name="l00589"></a>00589 
<a name="l00590"></a><a class="code" href="flFont_8h.html#c90a718ef77455f561eafddf1fb8cc7b">00590</a> <span class="keywordtype">void</span> <a class="code" href="flFont_8c.html#c90a718ef77455f561eafddf1fb8cc7b">fontDraw2dStringCenter</a>(<span class="keywordtype">int</span> inY, <a class="code" href="structFont.html">Font</a>* inFont, <span class="keywordtype">char</span>* inString) {
<a name="l00591"></a>00591      <span class="keywordtype">char</span>* tempPtr;
<a name="l00592"></a>00592      <span class="keywordtype">char</span>* tempLineStart = inString;
<a name="l00593"></a>00593      <span class="keywordtype">int</span> tempY = inY;
<a name="l00594"></a>00594      <span class="keywordflow">for</span>(tempPtr = inString; tempPtr[0] != 0; tempPtr++) {
<a name="l00595"></a>00595           <span class="keywordflow">if</span>(tempPtr[0] == <span class="charliteral">'\n'</span>) {
<a name="l00596"></a>00596                tempPtr[0] = 0;
<a name="l00597"></a>00597                <a class="code" href="flFont_8c.html#0f17a042bd1e5d440c89e3da55e20898">fontDraw2dString</a>(((<a class="code" href="flDefines_8h.html#2cd109632a6dcccaa80b43561b1ab700">SCREEN_WIDTH</a> - <a class="code" href="flFont_8c.html#d75ea5a21fc0145cf0509698bbd57ed4">fontStringWidth</a>(inFont, tempLineStart)) &gt;&gt; 1), tempY, inFont, tempLineStart);
<a name="l00598"></a>00598                tempY += <a class="code" href="flFont_8c.html#52a6b73a87f357f4063ff8ebc8e5f974">fontHeight</a>(inFont);
<a name="l00599"></a>00599                tempPtr[0] = <span class="charliteral">'\n'</span>;
<a name="l00600"></a>00600                tempLineStart = &amp;tempPtr[1];
<a name="l00601"></a>00601           }
<a name="l00602"></a>00602      }
<a name="l00603"></a>00603      <span class="keywordflow">if</span>(tempLineStart[0] != 0)
<a name="l00604"></a>00604           <a class="code" href="flFont_8c.html#0f17a042bd1e5d440c89e3da55e20898">fontDraw2dString</a>(((<a class="code" href="flDefines_8h.html#2cd109632a6dcccaa80b43561b1ab700">SCREEN_WIDTH</a> - <a class="code" href="flFont_8c.html#d75ea5a21fc0145cf0509698bbd57ed4">fontStringWidth</a>(inFont, tempLineStart)) &gt;&gt; 1), tempY, inFont, tempLineStart);
<a name="l00605"></a>00605 }
<a name="l00606"></a>00606 
<a name="l00607"></a>00607 <span class="comment">/* REPLACED BY A MACRO</span>
<a name="l00608"></a>00608 <span class="comment">void fontDraw2dStringFromRight(int inX, int inY, Font* inFont, char* inString) {</span>
<a name="l00609"></a>00609 <span class="comment">     fontDraw2dString((inX - fontStringWidth(inFont, inString)), inY, inFont, inString);</span>
<a name="l00610"></a>00610 <span class="comment">}*/</span>
<a name="l00611"></a>00611 
<a name="l00612"></a>00612 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Sep 5 19:04:00 2007 for funcLib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
